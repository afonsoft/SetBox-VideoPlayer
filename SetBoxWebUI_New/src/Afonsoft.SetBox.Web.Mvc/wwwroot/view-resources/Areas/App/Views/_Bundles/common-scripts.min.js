
var app=app||{};abp.services.app.session.getCurrentLoginInformations({async:!1}).done(function(n){app.session=n});
var app=app||{};jQuery,app.UserNotificationHelper=function(){var t=abp.services.app.notification;function i(t){switch(t.notification.notificationName){case"App.NewUserRegistered":return"/App/users?filterText="+t.notification.data.properties.emailAddress;case"App.NewTenantRegistered":return"/App/tenants?filterText="+t.notification.data.properties.tenancyName;case"App.GdprDataPrepared":return"/File/DownloadBinaryFile?id="+t.notification.data.properties.binaryObjectId+"&contentType=application/zip&fileName=collectedData.zip";case"App.DownloadInvalidImportUsers":return"/File/DownloadTempFile?fileToken="+t.notification.data.properties.fileToken+"&fileType="+t.notification.data.properties.fileType+"&fileName="+t.notification.data.properties.fileName}return"#"}var e=function(t,e){var a={userNotificationId:t.id,text:abp.notifications.getFormattedMessageFromUserNotification(t),time:moment(t.notification.creationTime).format("YYYY-MM-DD HH:mm:ss"),icon:app.notification.getUiIconBySeverity(t.notification.severity),state:abp.notifications.getUserNotificationStateAsString(t.state),data:t.notification.data,url:i(t),isUnread:t.state===abp.notifications.userNotificationState.UNREAD,timeAgo:moment(t.notification.creationTime).fromNow()};return(e||void 0===e)&&(a.text=abp.utils.truncateStringWithPostfix(a.text,100)),a};return{format:e,show:function(t){abp.notifications.showUiNotifyForUserNotification(t,{onclick:function(){var e=i(t);e&&(location.href=e)}}),Push.create("SetBox",{body:e(t).text,icon:abp.appPath+"Common/Images/app-logo-small.svg",timeout:6e3,onClick:function(){window.focus(),this.close()}})},setAllAsRead:function(i){t.setAllNotificationsAsRead().done(function(){abp.event.trigger("app.notifications.refresh"),i&&i()})},setAsRead:function(i,e){t.setNotificationAsRead({id:i}).done(function(){abp.event.trigger("app.notifications.read",i),e&&e(i)})},openSettingsModal:function(){new app.ModalManager({viewUrl:abp.appPath+"App/Notifications/SettingsModal",scriptUrl:abp.appPath+"view-resources/Areas/App/Views/Notifications/_SettingsModal.js",modalClass:"NotificationSettingsModal"}).open()}}};
var app=app||{};app.chat=app.chat||{},app.chat.side={sender:1,receiver:2},app.chat.readState={unread:1,read:2},app.chat.sendMessage=function(){console.log(arguments)};
var app=app||{};$.extend(app,{consts:{maxProfilPictureBytesUserFriendlyValue:5,grid:{defaultPageSize:10,defaultPageSizes:[10,20,50,100]},userManagement:{defaultAdminUserName:"admin"},contentTypes:{formUrlencoded:"application/x-www-form-urlencoded; charset=UTF-8"},friendshipState:{accepted:1,blocked:2}}});
window.addEventListener("load",function(){abp.setting.getBoolean("App.UserManagement.IsCookieConsentEnabled")&&window.cookieconsent.initialise({showLink:!1,content:{message:app.localize("CookieConsent_Message"),dismiss:app.localize("CookieConsent_Dismiss")}})});
var app=app||{};!function(){var t=abp.localization.getSource("SetBox");app.localize=function(){return t.apply(this,arguments)},app.downloadTempFile=function(t){location.href=abp.appPath+"File/DownloadTempFile?fileType="+t.fileType+"&fileToken="+t.fileToken+"&fileName="+t.fileName},app.createDateRangePickerOptions=function(t){t=t||{allowFutureDate:!1};var e={locale:{format:"L",applyLabel:app.localize("Apply"),cancelLabel:app.localize("Cancel"),customRangeLabel:app.localize("CustomRange")},min:moment("2015-05-01"),minDate:moment("2015-05-01"),opens:"left",ranges:{}};return t.allowFutureDate||(e.max=moment(),e.maxDate=moment()),e.ranges[app.localize("Today")]=[moment().startOf("day"),moment().endOf("day")],e.ranges[app.localize("Yesterday")]=[moment().subtract(1,"days").startOf("day"),moment().subtract(1,"days").endOf("day")],e.ranges[app.localize("Last7Days")]=[moment().subtract(6,"days").startOf("day"),moment().endOf("day")],e.ranges[app.localize("Last30Days")]=[moment().subtract(29,"days").startOf("day"),moment().endOf("day")],e.ranges[app.localize("ThisMonth")]=[moment().startOf("month"),moment().endOf("month")],e.ranges[app.localize("LastMonth")]=[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],e},app.getUserProfilePicturePath=function(t){return t?abp.appPath+"Profile/GetProfilePictureById?id="+t:abp.appPath+"Common/Images/default-profile-picture.png"},app.getUserProfilePicturePath=function(){return abp.appPath+"Profile/GetProfilePicture?v="+(new Date).valueOf()},app.getShownLinkedUserName=function(t){return abp.multiTenancy.isEnabled?t.tenancyName?t.tenancyName+"\\"+t.username:".\\"+t.username:t.username},app.notification=app.notification||{},app.notification.getUiIconBySeverity=function(t){switch(t){case abp.notifications.severity.SUCCESS:return"fas fa-check";case abp.notifications.severity.WARN:return"fas fa-exclamation";case abp.notifications.severity.ERROR:return"fas fa-bolt";case abp.notifications.severity.FATAL:return"fas fa-bomb";case abp.notifications.severity.INFO:default:return"fas fa-info"}},app.changeNotifyPosition=function(t){toastr&&(toastr.clear(),toastr.options.positionClass=t)},app.waitUntilElementIsReady=function(t,e,a){if($){var n=t.split(",").length;a||(a=100);var o=setInterval(function(){$(t).length>=n&&(clearInterval(o),e())},a)}},app.calculateTimeDifference=function(t,e,a){if(!moment)return null;var n=moment(t);return moment(e).diff(n,a)},app.htmlUtils={htmlEncodeText:function(t){return $("<div/>").text(t).html()},htmlDecodeText:function(t){return $("<div/>").html(t).text()},htmlEncodeJson:function(t){return JSON.parse(app.htmlUtils.htmlEncodeText(JSON.stringify(t)))},htmlDecodeJson:function(t){return JSON.parse(app.htmlUtils.htmlDecodeText(JSON.stringify(t)))}},app.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},app.isRTL=function(){return"rtl"===document.documentElement.getAttribute("dir")||"rtl"===document.documentElement.getAttribute("direction")}}();
!function(t){t&&(t.fn.buttonBusy=function(a){return t(this).each(function(){var s=t(this),n=s.find("i"),i=s.find("span");if(a){if(s.hasClass("button-busy"))return;s.attr("disabled","disabled"),n.length&&(s.data("iconOriginalClasses",n.attr("class")),n.removeClass(),n.addClass("fa fa-spin fa-spinner")),i.length&&s.attr("busy-text")&&(s.data("buttonOriginalText",i.html()),i.html(s.attr("busy-text"))),s.addClass("button-busy")}else{if(!s.hasClass("button-busy"))return;s.removeAttr("disabled"),n.length&&s.data("iconOriginalClasses")&&(n.removeClass(),n.addClass(s.data("iconOriginalClasses"))),i.length&&s.data("buttonOriginalText")&&i.html(s.data("buttonOriginalText")),s.removeClass("button-busy")}})},t.fn.serializeFormToObject=function(){var a=t(this),s=a.find("[disabled]");s.prop("disabled",!1);var n=a.serializeJSON();return s.prop("disabled",!0),n})}(jQuery);
!function(e){e.validator.setDefaults({errorElement:"div",errorClass:"invalid-feedback",focusInvalid:!1,submitOnKeyPress:!0,ignore:":hidden",highlight:function(t){e(t).closest(".form-group").find("input:eq(0)").addClass("is-invalid")},unhighlight:function(t){e(t).closest(".form-group").find("input:eq(0)").removeClass("is-invalid")},errorPlacement:function(e,t){1===t.closest(".input-icon").length?e.insertAfter(t.closest(".input-icon")):e.insertAfter(t)},success:function(e){e.closest(".form-group").removeClass("has-danger"),e.remove()},submitHandler:function(t){e(t).find(".alert-danger").hide()}}),e.validator.addMethod("email",function(e,t){return/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e)},"Please enter a valid Email."),e.validator.addMethod("text",function(t,n){return new RegExp(e(n).attr("pattern")).test(t)},"Please enter a well formatted value.")}(jQuery);
abp.clock.provider.supportsMultipleTimezone&&window.moment&&moment.tz.setDefault(abp.timing.timeZoneInfo.iana.timeZoneId),abp.libs.sweetAlert&&(abp.libs.sweetAlert.config.info.button=app.localize("Ok"),abp.libs.sweetAlert.config.success.button=app.localize("Ok"),abp.libs.sweetAlert.config.warn.button=app.localize("Ok"),abp.libs.sweetAlert.config.error.button=app.localize("Ok"),abp.libs.sweetAlert.config.confirm.buttons=[app.localize("Cancel"),app.localize("Yes")]);
var app=app||{};app.localStorage=app.localStorage||{},app.localStorage.setItem=function(a,t){localStorage&&localStorage.setItem(a,JSON.stringify(t))},app.localStorage.getItem=function(a,t){if(!localStorage)return null;var e=localStorage.getItem(a);if(!t)return e;t(e)};
var app=app||{};app.localStorage=app.localStorage||{},app.localStorage.setItem=function(a,o){localforage&&localforage.setItem(a,o)},app.localStorage.getItem=function(a,o){localforage&&o&&localforage.getItem(a).then(function(a){o(a)})};
var app=app||{};!function(o){app.modals=app.modals||{},app.ModalManager=function(){function n(n){var e=o("#"+(n+"Container"));e.length&&e.remove()}return function(e){!function(o){o.modalId||(o.modalId="Modal_"+Math.floor(1e6*Math.random())+(new Date).getTime()),null===o.modalSize?o.modalSize="":o.modalSize?o.modalSize=o.modalSize:o.modalSize="modal-lg"}(e);var a=e,t=null,l=e.modalId,d="#"+l,i=null,r=e.modalSize,u=null,s=null,c=null,f=null,p=[],m=[];function v(){i&&i.save&&i.save()}function b(){(t=o(d)).modal({backdrop:"static"}),t.on("hidden.bs.modal",function(){for(var o=0;o<m.length;o++)m[o]();n(l);for(o=0;o<p.length;o++)p[o]();"boolean"==typeof a.removeAllOnCloseBindsAfterModalClose&&a.removeAllOnCloseBindsAfterModalClose&&(p=[],m=[])}),t.on("shown.bs.modal",function(){t.find("input:not([type=hidden]):first").focus(),f&&f(t)});var r=app.modals[e.modalClass];r&&(i=new r).init&&i.init(u,s),t.find(".save-button").click(function(){v()}),t.find(".modal-body").keydown(function(o){13===o.which&&("textarea"===o.target.tagName.toLocaleLowerCase()?o.stopPropagation():(o.preventDefault(),v()))}),t.modal("show")}var g=function(a,t,d){var i,u;s=a||{},c=t,f=d,abp.ui.setBusy(o("body")),(i=l,u=r,n(i),o('<div id="'+i+'Container"></div>').append('<div id="'+i+'" class="modal fade" tabindex="-1" role="modal" aria-hidden="true">  <div class="modal-dialog '+u+'">    <div class="modal-content"></div>  </div></div>').appendTo("body")).find(".modal-content").load(e.viewUrl,s,function(n,a,t){"error"!=a?(e.scriptUrl?app.ResourceLoader.loadScript(e.scriptUrl,function(){b()}):b(),abp.ui.clearBusy(o("body"))):abp.message.warn(abp.localization.abpWeb("InternalServerError"))})};return u={open:g,reopen:function(){g(s)},close:function(){t&&t.modal("hide")},getModalId:function(){return l},getModal:function(){return t},getArgs:function(){return s},getOptions:function(){return a},setBusy:function(o){t&&(t.find(".modal-footer button").buttonBusy(o),t.find(".modal-header button.close").buttonBusy(o))},setResult:function(){c&&c.apply(u,arguments)},onClose:function(o){p.push(o)},getModalObject:function(){return i},onBeforeClose:function(o){m.push(o)}}}}()}(jQuery);
app.PasswordComplexityHelper=function(){function e(e,r){if(!e||e.charAt(0)===e.charAt(0).toLowerCase())return r;this[e.charAt(0).toLowerCase()+e.slice(1)]=r}return{setPasswordComplexityRules:function(r,i){if(r&&(i=JSON.parse(JSON.stringify(i),e))){var t=function(e){var r="<ul style='display: inline-block;'>";return e.requireDigit&&(r+="<li>"+app.localize("PasswordComplexity_RequireDigit_Hint")+"</li>"),e.requireLowercase&&(r+="<li>"+app.localize("PasswordComplexity_RequireLowercase_Hint")+"</li>"),e.requireNonAlphanumeric&&(r+="<li>"+app.localize("PasswordComplexity_RequireNonAlphanumeric_Hint")+"</li>"),e.useLowerCaseLetters&&(r+="<li>"+app.localize("PasswordComplexity_UseLowerCaseLetters_Hint")+"</li>"),e.requireUppercase&&(r+="<li>"+app.localize("PasswordComplexity_RequireUppercase_Hint")+"</li>"),e.requiredLength>0&&(r+="<li>"+abp.utils.formatString(app.localize("PasswordComplexity_RequiredLength_Hint"),e.requiredLength)+"</li>"),r+"</ul>"}(i);jQuery.validator.addMethod("passwordComplexity",function(e,r){return!((r.hasAttribute("required")||""!==e)&&(i.requireDigit&&!/[0-9]/.test(e)||i.requireLowercase&&!/[a-z]/.test(e)||i.requireUppercase&&!/[A-Z]/.test(e)||i.requiredLength&&e.length<i.requiredLength||i.requireNonAlphanumeric&&/^[0-9a-zA-Z]+$/.test(e)))},t);for(var a=0;a<r.length;a++)$(r[a]).rules("add","passwordComplexity")}}}};
var app=app||{};!function(a){var t,l={LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED"};function s(){this.state=l.LOADING,this.loadCallbacks=[],this.failCallbacks=[]}s.prototype.succeed=function(){this.state=l.LOADED;for(var a=0;a<this.loadCallbacks.length;a++)this.loadCallbacks[a]()},s.prototype.failed=function(){this.state=l.FAILED;for(var a=0;a<this.failCallbacks.length;a++)this.failCallbacks[a]()},s.prototype.handleCallbacks=function(a,t){switch(this.state){case l.LOADED:a&&a();break;case l.FAILED:t&&t();break;case l.LOADING:this.addCallbacks(a,t)}},s.prototype.addCallbacks=function(a,t){a&&this.loadCallbacks.push(a),t&&this.failCallbacks.push(t)},app.ResourceLoader=(t={},{loadScript:function(l,c,i){var e=t[l];e?e.handleCallbacks(c,i):(t[l]=e=new s,e.addCallbacks(c,i),a.getScript(l).done(function(a,t){e.succeed()}).fail(function(a,t,l){e.failed()}))}})}(jQuery);
var app=app||{};app.utils=app.utils||{},app.utils.string={truncate:function(t,n,e){return!t||!n||t.length<=n?t:!1===e?t.substr(0,n):t.substr(0,n-1)+"&#133;"}},app.utils.date={containsTime:function(t){return!!t&&-1!==t.indexOf(":")},getEndOfDay:function(t){return t&&moment?moment(t).endOf("day"):null},getEndOfDayIfTimeNotExists:function(t){return this.containsTime(t)?t:this.getEndOfDay(t)},formatAsLongDateTime:function(t){return moment(t).format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")}};